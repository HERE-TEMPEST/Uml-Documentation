# Transition

- [Понятие](#понятие)<br/>
- [Обозначение](#обозначение-на-диаграмме)<br/>
- [Пример использования](#примеры-использования)<br/>

Иногда в источниках могут интерпретироваться как:

- Transition
- Переход

> В дальнейшем будет использоваться `переход`.

## Понятие

**Переход ( англ. transition )** - отношение между двумя состояниями, показывающее возможный путь изменения состояния экземпляра сущности. Считается, что в состоянии экземпляр сущности находится продолжительное время, а переход выполняется мгновенно.

> При смене состояний говорят, что переход срабатывает. До срабатывания перехода экземпляр сущности находится в состоянии, называемом `исходным`, а после его срабатывания – в `целевом`.

> Переход может быть направлен в то же состояние, из которого он выходит. Такой переход называется рефлексивным. В отличие от внутренних переходов, при рефлексивном переходе выполняются внутренние действия, ассоциированные с метками _entry_ и _exit_.

> Различают два вида переходов: `нетриггерный` и `триггерный`. Переход первого вида, называемый также переходом по завершении, срабатывает неявно, когда все основные операции (с метками _entry_, _do_ и _exit_) в исходном состоянии успешно завершают свою работу. Данный вид перехода обозначается стрелкой без надписи. Для наступления триггерного перехода необходимо наступление некоторого события, которое записывается над стрелкой. В общем случае над стрелкой может быть записана строка текста вида `«событие [сторожевое условие] / действие»`. Указываемое действие представляет собой атомарную операцию, выполняемую сразу после срабатывания соответствующего перехода и до начала каких бы то ни было операций в целевом состоянии. Разрешается указывать не одно, а несколько обособленных действий, отделенных друг от друга точкой с запятой. **Обязательное требование** – все действия в списке должны четко различаться между собой и следовать в порядке их записи. Примеры спецификации переходов:

- `mouseClick()` – нажатие кнопки мыши в момент, когда указатель находится над моделируемым объектом (например, над командной кнопкой, запускающей процедуру определения допускаемых скоростей);

- `mouseClick() / setFocus()` – нажатие кнопки мыши с одновременным установлением фокуса на моделируемом объекте;

- `mouseClick() [isEnabled()] / setFocus()` – нажатие кнопки мыши с одновременным установлением фокуса на моделируемом объекте при условии, что он доступен. В данном примере объект переходит в новое состояние только в том случае, если произойдет событие и сторожевое условие будет истинно. Вычисление истинности сторожевого условия происходит только после возникновения ассоциированного с ним события, инициирующего соответствующий переход. Если событие не произошло или сторожевое условие ложно, то переход не срабатывает, и действие, записанное через `«/»`, не выполняется;

- `at 14:00:00` или `[getTime() = 14:00]` – текущее время на компьютере равно 14 часам;

- при построении концептуальных диаграмм допускается обозначать переход произвольной строкой текста, характеризующей событие. Например, `«столкновение»` или `«выход из строя»`.

## Обозначение на диаграмме

На диаграмме состояний переход изображается сплошной линией со стрелкой, которая направлена в целевое состояние:

![](/assets/diagram-state/transition.png)

> В качестве метки перехода может указываться событие, при котором происходит переход. После события в квадратных скобках можно указать необязательное сторожевое условие (логическое выражение, которое должно быть истинным, чтобы переход мог запуститься). Также после символа `'/'` может быть указано действие при переходе.

## Примеры использования

Простейший пример использования перехода в диаграмме состояний

![](/assets/diagram-state/state-use-example.png)

[<< Предыдущая страница ( состояние )](./state.md)
[**|** Содержание **|**](./README.md)
[Следующая страница ( действие ) >>](./action.md)
